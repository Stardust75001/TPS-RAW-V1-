{% comment %}
Test template to verify product data is correctly retrieved
{% endcomment %}

<div class="container my-5">
    <div class="row">
        <div class="col-12">
            <h1>TEST - Product Data</h1>

            <div class="alert alert-info">
                <h4>Current product information:</h4>
                <ul>
                    <li><strong>Title:</strong> {{ product.title | default: "ERROR: Title not found" }}</li>
                    <li><strong>Price:</strong> {{ product.price | money | default: "ERROR: Price not found" }}</li>
                    <li><strong>ID:</strong> {{ product.id | default: "ERROR: ID not found" }}</li>
                    <li><strong>Handle:</strong> {{ product.handle | default: "ERROR: Handle not found" }}</li>
                    <li><strong>Vendor:</strong> {{ product.vendor | default: "No vendor" }}</li>
                    <li><strong>Type:</strong> {{ product.type | default: "No type" }}</li>
                    <li><strong>Number of variants:</strong> {{ product.variants.size | default: "0" }}</li>
                    <li><strong>Number of images:</strong> {{ product.images.size | default: "0" }}</li>
                    <li><strong>Available:</strong> {{ product.available | default: "Unknown" }}</li>
                </ul>
            </div>

            {% if product.description != blank %}
                <div class="alert alert-success">
                    <h4>Description:</h4>
                    {{ product.description | truncate: 200 }}
                </div>
            {% else %}
                <div class="alert alert-warning">
                    <h4>No description found</h4>
                </div>
            {% endif %}

            {% if product.images.size > 0 %}
                <div class="alert alert-success">
                    <h4>Images found:</h4>
                    <img loading="lazy" src="{{ product.featured_image | image_url: width: 200, height: 200 }}" alt="Product image: {{ product.title }}" class="img-thumbnail" role="img" aria-label="Product image: {{ product.title }}" width="200" height="200">
                </div>
            {% else %}
                <div class="alert alert-warning">
                    <h4>No image found</h4>
                </div>
            {% endif %}

            <div class="mt-4">
                <a href="{{ product.url }}" class="btn btn-primary">Back to normal product page</a>
            </div>
        </div>
    </div>
</div>

{% render 'single-product' %}
