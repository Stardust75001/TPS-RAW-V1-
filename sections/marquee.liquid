{% comment %}
---------------------------------------------------------
Copyright © 2019/2024 Theme Shopiweb Premium. Tous droits réservés.
La copie, la modification, la distribution ou l'utilisation
non autorisée de ce code ou de toute partie de celui-ci est formellement interdite.
Les contrevenants seront poursuivis dans toute la mesure permise par la loi.
---------------------------------------------------------
{% endcomment %}

{% liquid

    assign bg_color = section.settings.bg_color

    if section.settings.bg_gradient
        assign bg_color = bg_color | append: ' bg-gradient'
    endif
%}


<section
  data-animation-duration="{{ section.settings.animation_duration }}"
  data-marquee-direction="{{ section.settings.marquee_direction }}"
  data-section-id="{{ section.id }}"
  aria-label="{{ section.settings.list_label }}">
  <ul>
    {% for block in section.blocks %}
      <li class="px-{{ section.settings.gap }}" {{ block.shopify_attributes }}>
        {% unless block.settings.url == blank %}
          <a href="{{ block.settings.url }}">
        {% endunless %}
        {% if block.type == 'image' %}
          <img
            class="img-fluid"
            src="{{ block.settings.img.src | image_url: width: block.settings.img_width }}"
            alt="{{ block.settings.img.alt | escape }}"
            width="{{ block.settings.img_width }}"
            height="{{ block.settings.img_width | divided_by: block.settings.img.aspect_ratio | round }}"
            loading="lazy">
        {% else %}
          {{ block.settings.text }}
        {% endif %}
        {% unless block.settings.url == blank %}
          </a>
        {% endunless %}
      </li>
    {% endfor %}
  </ul>
</section>

{% schema %}
{
  "name": "Texte/Logo Défilant",
  "settings": [
    {
      "type": "paragraph",
      "content": "Documentation FR : [Texte/Logo défilant by Shopiweb](https://www.docs.shopiweb.fr/theme-premium/documentation/sections/texte-logo-defilant)"
    },
    {
      "type": "header",
      "content": "General"
    },
    {
      "type": "select",
      "id": "bg_color",
      "label": "Background color",
      "default": "bg-dark text-white",
      "options": [
        {
          "group": "Main",
          "value": "bg-primary text-white",
          "label": "Primary"
        },
        {
          "group": "Main",
          "value": "bg-secondary text-white",
          "label": "Secondary"
        },
        {
          "group": "Main",
          "value": "bg-tertiary text-white",
          "label": "Tertiary"
        },
        {
          "group": "Intermediate",
          "value": "bg-white text-dark",
          "label": "White"
        },
        {
          "group": "Intermediate",
          "value": "bg-light text-body",
          "label": "Light"
        },
        {
          "group": "Intermediate",
          "value": "bg-dark text-white",
          "label": "Dark"
        },
        {
          "group": "Default",
          "value": "bg-body text-body",
          "label": "Body"
        },
        {
          "group": "Alert",
          "value": "bg-success text-white",
          "label": "Success"
        },
        {
          "group": "Alert",
          "value": "bg-warning text-dark",
          "label": "Warning"
        },
        {
          "group": "Alert",
          "value": "bg-danger text-white",
          "label": "Danger"
        },
        {
          "group": "Alert",
          "value": "bg-info text-white",
          "label": "Info"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "bg_gradient",
      "label": "Background gradient",
      "default": false,
      "info": "Does not apply to light colors"
    },
    {
      "type": "select",
      "id": "font_size",
      "label": "Text size",
      "default": "fs-4",
      "options": [
        {
          "group": "Texte Standard",
          "value": "fs-1",
          "label": "Extra Large"
        },
        {
          "group": "Texte Standard",
          "value": "fs-2",
          "label": "Super Large"
        },
        {
          "group": "Texte Standard",
          "value": "fs-3",
          "label": "Very Large"
        },
        {
          "group": "Texte Standard",
          "value": "fs-4",
          "label": "Large"
        },
        {
          "group": "Texte Standard",
          "value": "fs-5",
          "label": "Medium"
        },
        {
          "group": "Texte Standard",
          "value": "fs-6",
          "label": "Small"
        }
      ]
    },
    {
      "type": "select",
      "id": "text_transform",
      "label": "Text transformation",
      "default": "text-capitalize",
      "options": [
        {
          "value": "",
          "label": "Normal"
        },
        {
          "value": "text-capitalize",
          "label": "Capitalize"
        },
        {
          "value": "text-lowercase",
          "label": "Lowercase"
        },
        {
          "value": "text-uppercase",
          "label": "Uppercase"
        }
      ]
    },
    {
      "type": "text",
      "id": "list_label",
      "label": "List label",
      "default": "Promotional features",
      "info": "Used for accessibility purposes"
    },
    {
      "type": "header",
      "content": "Effect"
    },
    {
      "type": "range",
      "id": "animation_duration",
      "label": "Speed",
      "min": 0,
      "max": 60,
      "step": 1,
      "default": 20,
      "unit": "sec",
      "info": "Automatic scrolling speed"
    },
    {
      "type": "select",
      "id": "marquee_direction",
      "label": "Scrolling direction",
      "default": "left",
      "info": "Automatic scrolling direction",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ]
    },
    {
      "type": "select",
      "id": "separator",
      "label": "Separator",
      "default": "separator-dot",
      "options": [
        {
          "value": "",
          "label": "None"
        },
        {
          "value": "separator-dot",
          "label": "Dot"
        }
      ]
    },
    {
      "type": "header",
      "content": "Gap",
      "info": "Spacing between items."
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Gap",
      "min": 0,
      "max": 12,
      "step": 1,
      "default": 6
    },
    {
      "type": "header",
      "content": "Section spacing"
    },
    {
      "type": "range",
      "id": "pt",
      "label": "Top padding",
      "min": 0,
      "max": 20,
      "step": 1,
      "default": 0
    },
    {
      "type": "range",
      "id": "pb",
      "label": "Bottom padding",
      "min": 0,
      "max": 20,
      "step": 1,
      "default": 0
    },
    {
      "type": "range",
      "id": "mt",
      "label": "Top margin",
      "min": 0,
      "max": 20,
      "step": 1,
      "default": 0
    },
    {
      "type": "range",
      "id": "mb",
      "label": "Bottom margin",
      "min": 0,
      "max": 20,
      "step": 1,
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "Item",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Text"
        },
        {
          "type": "url",
          "id": "url",
          "label": "URL"
        }
      ]
    },
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "img",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "img_width",
          "label": "Image width (px)",
          "default": "120"
        },
        {
          "type": "url",
          "id": "url",
          "label": "URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Texte/Logo Défilant",
      "category": "General",
      "blocks": [
        {
          "type": "item",
          "settings": {
            "text": "A promotional message"
          }
        },
        {
          "type": "item",
          "settings": {
            "text": "Another promotional message"
          }
        },
        {
          "type": "item",
          "settings": {
            "text": "Try to be brief"
          }
        },
        {
          "type": "item",
          "settings": {
            "text": "100% Shopiweb premium"
          }
        },
        {
          "type": "item",
          "settings": {
            "text": "Adjust section settings as needed"
          }
        }
      ]
    }
  ]
}
{% endschema %}