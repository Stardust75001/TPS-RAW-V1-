{% comment %}
Auto-generated by Shogun.
This file can be re-written at any time.
{% endcomment %}

{% assign template_suffix = template.suffix %}

{% if article %}
  {% assign content = article %}
{% elsif page %}
  {% assign content = page %}
{% elsif product %}
  {% assign content = product %}
{% elsif collection %}
  {% assign content = collection %}

{% endif %}

{# ...existing code... #}

{% if content.metafields.shogun.json_template_snippets %}
{# ...existing code... #}

  {% comment %} capture content_for_body {% endcomment %}
    {{ content_for_layout }}
    {{ content.metafields.shogun.json_template_snippets.value['body'][template_suffix] }}
{% endif %}

{% if content.metafields.shogun.json_template_html_wrapper %}
  {% assign json_template_config = content.metafields.shogun.json_template_html_wrapper.value %}
  {% capture content_for_layout %}
    {{
        json_template_config.html
        | replace: json_template_config.content_for_layout_placeholder, content_for_layout
        | replace: json_template_config.page_variant_id_placeholder, json_template_config.template_suffix_to_variant_id_map[template_suffix]
    }}
{% endcapture %}
{% endif %}

{% if content.metafields.shogun.json_template_optimizer %}
{# ...existing code... #}

     {% capture content_for_layout %}
        <template id="shogun-variant-body">
          {{ content_for_layout }}
        </template>
{% endcapture %}
        {{ content.metafields.shogun.json_template_optimizer.value['body'] }}
{% endif %}

